<!DOCTYPE html>
<html>
<head>
    <title>我的捏脸小站</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #4a90e2;
            margin-bottom: 30px;
        }
        .workspace {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        #avatar-canvas {
            width: 400px;
            height: 400px;
            border: 2px solid #ddd;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .controls {
            width: 300px;
            text-align: left;
        }
        .control-group {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f8f8;
            border-radius: 5px;
        }
        .control-group h3 {
            margin-top: 0;
            color: #4a90e2;
            font-size: 16px;
        }
        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
        }
        .color-preview {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 5px;
            vertical-align: middle;
            border: 1px solid #ddd;
        }
        .note {
            margin-top: 20px;
            font-style: italic;
            color: #666;
        }
        
        /* 响应式设计 */
        @media (min-width: 768px) {
            #avatar-canvas {
                width: 600px;
                height: 600px;
            }
        }
        
        @media (min-width: 992px) {
            #avatar-canvas {
                width: 800px;
                height: 800px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>我的捏脸小站</h1>
        
        <div class="workspace">
            <div id="avatar-container">
                <canvas id="avatar-canvas" width="800" height="800"></canvas>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <h3>后发</h3>
                    <select id="back-hair">
                        <option value="none">无</option>
                        <option value="style1">样式1</option>
                        <option value="style2">样式2</option>
                        <option value="style3">样式3</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <h3>脸型</h3>
                    <select id="face">
                        <option value="round">圆形</option>
                        <option value="oval">椭圆形</option>
                        <option value="square">方形</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <h3>前发</h3>
                    <select id="front-hair">
                        <option value="none">无</option>
                        <option value="style1">样式1</option>
                        <option value="style2">样式2</option>
                        <option value="style3">样式3</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <h3>鬓角</h3>
                    <select id="sideburns">
                        <option value="none">无</option>
                        <option value="short">短鬓角</option>
                        <option value="long">长鬓角</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <h3>眉毛</h3>
                    <select id="eyebrows">
                        <option value="straight">直眉</option>
                        <option value="arched">弯眉</option>
                        <option value="thick">粗眉</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <h3>眼睛</h3>
                    <select id="eyes">
                        <option value="round">圆眼</option>
                        <option value="almond">杏仁眼</option>
                        <option value="narrow">细长眼</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <h3>嘴巴</h3>
                    <select id="mouth">
                        <option value="smile">微笑</option>
                        <option value="neutral">中性</option>
                        <option value="pout">嘟嘴</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <h3>装饰</h3>
                    <select id="accessories">
                        <option value="none">无</option>
                        <option value="glasses">眼镜</option>
                        <option value="hat">帽子</option>
                        <option value="earrings">耳环</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="note">
            <p>这是一个捏脸界面原型。当你准备好素材后，可以将这些彩色形状替换为实际的图片。</p>
        </div>
    </div>

    <script>
        // 获取Canvas和上下文
        const canvas = document.getElementById('avatar-canvas');
        const ctx = canvas.getContext('2d');
        
        // 获取所有选择器
        const backHairSelect = document.getElementById('back-hair');
        const faceSelect = document.getElementById('face');
        const frontHairSelect = document.getElementById('front-hair');
        const sideburnsSelect = document.getElementById('sideburns');
        const eyebrowsSelect = document.getElementById('eyebrows');
        const eyesSelect = document.getElementById('eyes');
        const mouthSelect = document.getElementById('mouth');
        const accessoriesSelect = document.getElementById('accessories');
        
        // 初始绘制
        drawAvatar();
        
        // 为所有选择器添加事件监听
        backHairSelect.addEventListener('change', drawAvatar);
        faceSelect.addEventListener('change', drawAvatar);
        frontHairSelect.addEventListener('change', drawAvatar);
        sideburnsSelect.addEventListener('change', drawAvatar);
        eyebrowsSelect.addEventListener('change', drawAvatar);
        eyesSelect.addEventListener('change', drawAvatar);
        mouthSelect.addEventListener('change', drawAvatar);
        accessoriesSelect.addEventListener('change', drawAvatar);
        
        function drawAvatar() {
            // 清除画布
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 绘制后发 (底层)
            drawBackHair();
            
            // 绘制脸型
            drawFace();
            
            // 绘制鬓角
            drawSideburns();
            
            // 绘制眉毛
            drawEyebrows();
            
            // 绘制眼睛
            drawEyes();
            
            // 绘制嘴巴
            drawMouth();
            
            // 绘制前发
            drawFrontHair();
            
            // 绘制装饰 (最上层)
            drawAccessories();
        }
        
        function drawBackHair() {
            const style = backHairSelect.value;
            if (style === 'none') return;
            
            ctx.fillStyle = '#8B4513'; // 棕色
            ctx.beginPath();
            ctx.arc(400, 400, 350, 0, Math.PI * 2);
            ctx.fill();
        }
        
        function drawFace() {
            const style = faceSelect.value;
            ctx.fillStyle = '#FFE0BD'; // 肤色
            
            if (style === 'round') {
                ctx.beginPath();
                ctx.arc(400, 400, 300, 0, Math.PI * 2);
                ctx.fill();
            } else if (style === 'oval') {
                ctx.beginPath();
                ctx.ellipse(400, 400, 250, 300, 0, 0, Math.PI * 2);
                ctx.fill();
            } else if (style === 'square') {
                ctx.fillRect(150, 150, 500, 500);
            }
        }
        
        function drawFrontHair() {
            const style = frontHairSelect.value;
            if (style === 'none') return;
            
            ctx.fillStyle = '#4A3520'; // 深棕色
            ctx.beginPath();
            ctx.arc(400, 300, 250, 0, Math.PI, true);
            ctx.fill();
        }
        
        function drawSideburns() {
            const style = sideburnsSelect.value;
            if (style === 'none') return;
            
            ctx.fillStyle = '#4A3520'; // 深棕色
            
            if (style === 'short') {
                ctx.fillRect(100, 300, 80, 150);
                ctx.fillRect(620, 300, 80, 150);
            } else if (style === 'long') {
                ctx.fillRect(100, 300, 80, 250);
                ctx.fillRect(620, 300, 80, 250);
            }
        }
        
        function drawEyebrows() {
            const style = eyebrowsSelect.value;
            ctx.fillStyle = '#4A3520'; // 深棕色
            
            if (style === 'straight') {
                ctx.fillRect(250, 300, 100, 10);
                ctx.fillRect(450, 300, 100, 10);
            } else if (style === 'arched') {
                ctx.beginPath();
                ctx.arc(300, 300, 50, Math.PI, 0, false);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(500, 300, 50, Math.PI, 0, false);
                ctx.fill();
            } else if (style === 'thick') {
                ctx.fillRect(250, 295, 100, 20);
                ctx.fillRect(450, 295, 100, 20);
            }
        }
        
        function drawEyes() {
            const style = eyesSelect.value;
            ctx.fillStyle = '#000'; // 黑色
            
            if (style === 'round') {
                ctx.beginPath();
                ctx.arc(300, 400, 30, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(500, 400, 30, 0, Math.PI * 2);
                ctx.fill();
            } else if (style === 'almond') {
                ctx.beginPath();
                ctx.ellipse(300, 400, 40, 25, 0, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.ellipse(500, 400, 40, 25, 0, 0, Math.PI * 2);
                ctx.fill();
            } else if (style === 'narrow') {
                ctx.fillRect(260, 390, 80, 10);
                ctx.fillRect(460, 390, 80, 10);
            }
        }
        
        function drawMouth() {
            const style = mouthSelect.value;
            ctx.fillStyle = '#FF6B6B'; // 粉色
            
            if (style === 'smile') {
                ctx.beginPath();
                ctx.arc(400, 500, 40, 0, Math.PI, false);
                ctx.fill();
            } else if (style === 'neutral') {
                ctx.fillRect(350, 500, 100, 10);
            } else if (style === 'pout') {
                ctx.beginPath();
                ctx.arc(400, 520, 30, 0, Math.PI, true);
                ctx.fill();
            }
        }
        
        function drawAccessories() {
            const style = accessoriesSelect.value;
            if (style === 'none') return;
            
            ctx.fillStyle = '#555'; // 灰色
            
            if (style === 'glasses') {
                ctx.fillRect(200, 380, 200, 40);
                ctx.fillRect(400, 380, 200, 40);
                ctx.fillRect(400, 390, 20, 5);
            } else if (style === 'hat') {
                ctx.fillRect(200, 100, 400, 50);
                ctx.fillRect(150, 150, 500, 20);
            } else if (style === 'earrings') {
                ctx.beginPath();
                ctx.arc(150, 450, 20, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(650, 450, 20, 0, Math.PI * 2);
                ctx.fill();
            }
        }
    </script>
</body>
</html>
